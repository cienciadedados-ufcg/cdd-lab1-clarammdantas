---
title: "Análise de Séries (PROVISÓRIO)"
author: "Clara Moraes Dantas"
date: "21 de Abril de 2018"
output:
  html_notebook:
    toc: yes
    toc_float: yes
  html_document:
    df_print: paged
    toc: yes
    toc_float: yes
---

```{r setup, echo=FALSE, warning=FALSE, message=FALSE}
library(tidyverse)
library(here)
library(ggplot2)
library(plotly)
```
###Análise das Séries Com Dados IMDB

Foram escolhidas três séries para esta análise, Mad Men, Sherlock e The Killing.

A média das notas dadas pelos usuários a cada episódio das séries analisadas não são muito diferentes, sendo a maior nota, 8.8, de Sherlock. A nota de cada episódio é ponderada, levando em conta quantas pessoas votaram e a nota que cada uma deu.

```{r echo=FALSE}
#Pensar se a média é realmente representativa
series_a_serem_analisadas = read_csv(here("data/series_from_imdb.csv")) %>%
                            filter(series_name %in% c("Mad Men", "Sherlock", "The Killing"))

medias_imd_por_serie = group_by(series_a_serem_analisadas, series_name) %>% summarize(media_imdb = mean(user_rating))
```

```{r}
medias_series = plot_ly(medias_imd_por_serie,
                        x = ~series_name,
                        y = ~media_imdb,
                        name = "Média IMDB Séries",
                        type = "bar",
                        color = ~series_name) %>%
                        layout(yaxis = list(title = "Média IMDB"),
                               xaxis = list(title = "Séries"),
                               barmode = "group")
medias_series
```

No entanto, podemos ver que a The Killing é a que possui uma distribuição de notas mais homogênea, enquanto que a dispersão das notas dos episódios de Mad Men e Sherlock são maiores. Além disso, podemos perceber que a mediana e a média de cada série estão próximas uma da outra. Confirmando que a média é representativa.

```{r}
variacoes_notas = plot_ly(series_a_serem_analisadas,
                          x = ~series_name,
                          y = ~user_rating,
                          type = "box",
                          color = ~series_name)
variacoes_notas
```
---
A série mais bem avaliada é Sherlock
---