---
title: "Análise de Séries (PROVISÓRIO)"
author: "Clara Moraes Dantas"
date: "21 de Abril de 2018"
output:
  html_notebook:
    toc: yes
    toc_float: yes
  html_document:
    df_print: paged
    toc: yes
    toc_float: yes
---

```{r setup, echo=FALSE, warning=FALSE, message=FALSE}
library(tidyverse)
library(here)
library(ggplot2)
library(plotly)
```
###Mad Men, Sherlock e The Killing segundo o IMDB

Foram escolhidas três séries para esta análise, Mad Men, Sherlock e The Killing.

```{r}
#Pensar se a média é realmente representativa
series_a_serem_analisadas = read_csv(here("data/series_from_imdb.csv"),
                                     progress = FALSE) %>%
                            filter(series_name %in% c("Mad Men", "Sherlock", "The Killing"))

medias_imd_por_serie = group_by(series_a_serem_analisadas, series_name) %>% summarize(media_imdb = mean(user_rating))
```

Calculamos a nota IMDB de cada série fazendo uma média das notas, dadas pelos espectadores, de cada episódio. Essa nota, por sua vez, é calculada fazendo-se uma média ponderada das notas, variando de 1 a 10, e a quantidade de pessoas que votaram. Portanto, podemos supor que nossa nota IMDB é representativa. Dito isto, temos que dentre as séries escolhidas, a maior nota é a de Sherlock, aproximadamente 8.9, porém as outras não não estão muito longe disso.

```{r}
medias_series = plot_ly(medias_imd_por_serie,
                        x = ~series_name,
                        y = ~media_imdb,
                        name = "Média IMDB Séries",
                        type = "bar",
                        color = ~series_name) %>%
                        layout(yaxis = list(title = "Média IMDB"),
                               xaxis = list(title = "Séries"),
                               barmode = "group")
medias_series
```

No entanto, podemos ver que a The Killing é a que possui uma distribuição de notas mais homogênea, enquanto que a dispersão das notas dos episódios de Mad Men e Sherlock são maiores. Além disso, podemos perceber que a mediana e a média de cada série estão próximas uma da outra. Confirmando que a média é representativa.

```{r}
variacoes_notas = plot_ly(series_a_serem_analisadas,
                          x = ~series_name,
                          y = ~user_rating,
                          type = "box",
                          color = ~series_name)
variacoes_notas
```
---
A série mais bem avaliada é Sherlock
---