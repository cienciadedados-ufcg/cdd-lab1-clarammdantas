---
title: "Análise de Séries a partir de Dado do IMDB"
author: "Maria Clara Moraes"
date: "03/05/2018"
output:
  html_document:
    df_print: paged
    toc: yes
    toc_float: yes
  html_notebook:
    toc: yes
    toc_float: yes
---

```{r setup, echo=FALSE, warning=FALSE, message=FALSE}
library(tidyverse)
library(here)
library(plotly)
theme_set(theme_bw())
```

```{r echo=FALSE}
series = read_csv(here("Documentos/Estudo/cdd/cdd-lab1-clarammdantas/data/series_from_imdb.csv"))
```

### A quantidade de temporadas é inversamente proporcional à nota da série?

Antes de responder a esta pergunta podemos tentar ter um panorama geral do comportamento das notas atribuídas a cada temporada de uma série. Nos gráficos abaixo podemos ver, por exemplo, que os produtores de American Idol foram bastante persistentes uma vez que desde a primeira teporada o show não foi bem recebido pelo público. Depois de muitos altos e baixos, na 12ª temporada quando a nota foi a segunda pior da sua história, as temporadas seguintes vêm mostrando um crescimento bastante alto atingindo a nota máxima, 6.72 na 15ª temporada.

Porém também podemos observar casos em que aparentemente os produtores não souberam quando parar. Os Simpsons ilustram bem essa situação. A série passa bastante tempo bem sucedida mas a partir mais ou menos da 11ª temporada, sua nota começa a cair bastante chegando a 6.67 na 28ª temporada.

Ainda analisando os gráficos, outro fato interessante é que as séries ficam num limbo 

```{r}
series_by_season = series %>% 
  group_by(series_name, season) %>% 
  summarise(mean_user_rating = mean(user_rating))

series_by_season %>% 
  ggplot(aes(x = season, y = mean_user_rating, group = series_name)) + 
  geom_line(size = 0.1, alpha = 0.5)
```

###Is the quantity of seasons inversily proportional to the series grade?
```{r message=FALSE}
means_by_season = plot_ly(series_by_season,
                         x = ~season,
                         y = ~mean_user_rating,
                         color = ~series_name,
                         type = "scatter",
                         mode = "lines")
means_by_season

#usually, how many seasons has successful serie?
```



###Which serie kept well avaliated for the longest period of time?
###A quantidade de temporadas de uma série é inversamente proporcional a sua nota?
###Qual série se manteve mais bem avaliada pelo maior período de tempo?
